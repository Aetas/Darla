Version 4
SHEET 1 880 680
WIRE 208 -128 208 -176
WIRE 48 -112 -16 -112
WIRE 160 -112 48 -112
WIRE 48 -80 48 -112
WIRE 320 -64 272 -64
WIRE 432 -64 384 -64
WIRE 48 32 48 0
WIRE 352 96 336 96
WIRE 368 96 352 96
WIRE 352 128 352 96
WIRE 48 144 0 144
WIRE 208 144 208 -32
WIRE 208 144 128 144
WIRE 272 144 272 -64
WIRE 272 144 208 144
WIRE 320 144 272 144
WIRE 432 160 432 -64
WIRE 432 160 384 160
WIRE 480 160 432 160
WIRE 48 176 0 176
WIRE 272 176 128 176
WIRE 320 176 272 176
WIRE 272 192 272 176
WIRE 352 208 352 192
WIRE 272 288 272 272
FLAG 352 208 0
FLAG 272 288 0
FLAG 480 160 b
IOPIN 480 160 Out
FLAG 0 176 vref
IOPIN 0 176 In
FLAG 0 144 vsense
IOPIN 0 144 In
FLAG 48 32 0
FLAG 208 -176 DC5V
IOPIN 208 -176 In
FLAG 352 96 DC10V
IOPIN 352 96 In
FLAG -16 -112 C
IOPIN -16 -112 In
SYMBOL Opamps\\LT318A 352 160 R0
SYMATTR InstName U1
SYMBOL cap 256 208 R0
SYMATTR InstName C1
SYMATTR Value {C_f}
SYMBOL cap 384 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C_f}
SYMBOL res 144 160 R90
WINDOW 0 67 88 VBottom 2
WINDOW 3 41 16 VTop 2
SYMATTR InstName R1
SYMATTR Value {R_f}
SYMBOL res 32 160 R270
WINDOW 0 40 22 VTop 2
WINDOW 3 65 93 VBottom 2
SYMATTR InstName R2
SYMATTR Value {R_f}
SYMBOL pmos 160 -32 M180
SYMATTR InstName M1
SYMBOL res 32 -96 R0
WINDOW 0 -111 59 Left 2
WINDOW 3 -76 95 Left 2
SYMATTR InstName Pull-UpR
SYMATTR Value 3Meg
TEXT -72 272 Left 2 !.param R_f = 22k\n.param C_f = 1m
