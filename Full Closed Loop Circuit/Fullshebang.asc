Version 4
SHEET 1 1436 680
WIRE -544 -272 -656 -272
WIRE -464 -272 -544 -272
WIRE -400 -272 -464 -272
WIRE -224 -272 -400 -272
WIRE -64 -272 -224 -272
WIRE 240 -272 32 -272
WIRE 496 -272 240 -272
WIRE 768 -272 496 -272
WIRE 832 -272 768 -272
WIRE 896 -272 832 -272
WIRE 1024 -272 896 -272
WIRE -656 -240 -656 -272
WIRE -544 -240 -544 -272
WIRE -464 -240 -464 -272
WIRE -400 -240 -400 -272
WIRE 768 -240 768 -272
WIRE 832 -240 832 -272
WIRE 896 -240 896 -272
WIRE 1024 -240 1024 -272
WIRE -544 -160 -544 -176
WIRE -464 -160 -464 -176
WIRE -400 -160 -400 -176
WIRE 768 -160 768 -176
WIRE 832 -160 832 -176
WIRE 896 -160 896 -176
WIRE -656 -128 -656 -160
WIRE 1024 -128 1024 -160
WIRE -64 -96 -64 -272
WIRE 32 -96 32 -272
WIRE -160 -64 -288 -64
WIRE -160 -32 -240 -32
WIRE 144 -32 80 -32
WIRE 288 -32 224 -32
WIRE -160 0 -208 0
WIRE 496 32 496 -272
WIRE 288 64 288 -32
WIRE 368 64 288 64
WIRE 688 64 608 64
WIRE -240 80 -240 -32
WIRE 864 96 800 96
WIRE 368 144 288 144
WIRE 656 144 608 144
WIRE -112 160 -144 160
WIRE -64 160 -112 160
WIRE 96 160 32 160
WIRE 160 160 96 160
WIRE 656 160 656 144
WIRE 688 160 656 160
WIRE 848 160 800 160
WIRE -64 176 -64 160
WIRE 32 176 32 160
WIRE 480 192 480 176
WIRE -160 208 -288 208
WIRE -240 240 -240 80
WIRE -160 240 -240 240
WIRE 144 240 80 240
WIRE 288 240 288 144
WIRE 288 240 224 240
WIRE -208 272 -208 0
WIRE -160 272 -208 272
WIRE 368 320 320 320
WIRE 416 320 368 320
WIRE -432 336 -464 336
WIRE -288 336 -352 336
WIRE -240 336 -240 240
WIRE -240 336 -288 336
WIRE 768 352 672 352
WIRE 848 352 848 160
WIRE 848 352 768 352
WIRE -288 384 -288 336
WIRE -208 384 -208 272
WIRE 128 384 -208 384
WIRE 416 384 128 384
WIRE -288 464 -288 448
FLAG -288 464 0
FLAG 1024 -128 0
FLAG -656 -128 0
FLAG 768 -160 0
FLAG 832 -160 0
FLAG 896 -160 0
FLAG -400 -160 0
FLAG -464 -160 0
FLAG -544 -160 0
FLAG -288 -64 CW
IOPIN -288 -64 In
FLAG -288 208 CCW
IOPIN -288 208 In
FLAG -464 336 REF
IOPIN -464 336 In
FLAG 480 192 0
FLAG 864 96 omega
IOPIN 864 96 Out
FLAG -112 160 +5V_VCC
FLAG 368 320 +5V_VCC
FLAG 240 -272 +10V_VDC
FLAG 96 160 +10V_VDC
FLAG -224 -272 +5V_VCC
FLAG 768 352 encoder
FLAG 128 384 speed_V
FLAG -240 80 speed_ref
SYMBOL DC_motor_model 736 112 R0
SYMATTR InstName X1
SYMBOL DC_motor_driver 480 112 R0
SYMATTR InstName X2
SYMBOL Feedback -112 -48 R0
SYMATTR InstName X3
SYMBOL Feedback -112 224 R0
SYMATTR InstName X4
SYMBOL voltage -656 -256 R0
SYMATTR InstName V_5VDC
SYMATTR Value 5V
SYMBOL voltage 1024 -256 R0
SYMATTR InstName V_10VDC
SYMATTR Value 10V
SYMBOL speedsense 496 352 R0
SYMATTR InstName X5
SYMBOL cap -304 384 R0
SYMATTR InstName C_ref
SYMATTR Value {C_ref}
SYMBOL res -336 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_ref
SYMATTR Value {R_ref}
SYMBOL cap -560 -240 R0
SYMATTR InstName C2
SYMATTR Value 47µF
SYMBOL cap -480 -240 R0
SYMATTR InstName C3
SYMATTR Value 0.1µF
SYMBOL cap -416 -240 R0
SYMATTR InstName C4
SYMATTR Value 0.1µf
SYMBOL cap 880 -240 R0
SYMATTR InstName C5
SYMATTR Value 47µF
SYMBOL cap 816 -240 R0
SYMATTR InstName C6
SYMATTR Value 0.1µF
SYMBOL cap 752 -240 R0
SYMATTR InstName C7
SYMATTR Value 0.1µF
SYMBOL res 240 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rb2
SYMATTR Value {Rb}
SYMBOL res 240 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rb1
SYMATTR Value {Rb}
TEXT -144 440 Left 2 !.param C_ref = 1u\n.param R_ref = 22k
TEXT 168 432 Left 2 !.param Rb = 750
TEXT -376 208 Right 2 ;+5V\nactivates\ncounter-clockwise
TEXT -368 -64 Right 2 ;+5V\nactivates\nclockwise
TEXT -40 48 Center 2 ;Feedback Circuit 1
TEXT -40 304 Top 2 ;Feedback Circuit 2
TEXT -592 -296 Left 2 ;decoupling capacitors
TEXT 704 -296 Left 2 ;decoupling capacitors
TEXT -472 376 Right 2 ;PWM Square wave\nfrom Arduino
TEXT 232 -352 Center 3 ;DC Motor Speed Control Circuit
